<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>上下滑动侧边栏</title>
	<style type="text/css">
		#div1{

			width:100px;
			height:100px;
			background: red;
			position: absolute;
			right:0;

		}

	</style>
	<script type="text/javascript">
		window.onscroll=function(){
			var oDiv=document.getElementById('div1');
			var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;
			//oDiv.style.top=scrollTop+(document.documentElement.clientHeight-oDiv.offsetHeight)/2+'px';
		var t=scrollTop+(document.documentElement.clientHeight-oDiv.offsetHeight)/2;

		//startMove(t);
		startMove(parseInt(t));
		//把目标点设置为整数，防止元素上下抖动
		};

		var timer=null;

function startMove(iTarget)
{
	var oDiv=document.getElementById('div1');
	
	clearInterval(timer);
	timer=setInterval(function (){
		var iSpeed=(iTarget-oDiv.offsetTop)/8;
		iSpeed=iSpeed>0?Math.ceil(iSpeed):Math.floor(iSpeed);
		if(oDiv.offsetTop==iTarget)	//是否到达终点
		{
			clearInterval(timer);	//到达终点
		}
		else
		{
			oDiv.style.top=oDiv.offsetTop+iSpeed+'px';	//到达之前
		}
		txt1.value=oDiv.offsetTop+',目标点：'+iTarget;
		
	}, 30);
}

	</script>

</head>
<body style="height:2000px;">
	<div id='div1'></div>
	<input type="text" id="txt1" style="position:fixed;top:120px;" />
</body>
</html>